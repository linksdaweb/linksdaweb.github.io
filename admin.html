<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel ADM – Dvzn愛</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h1 style="text-align:center;">Painel ADM</h1>

<div style="padding:20px;">
    <input id="nome" placeholder="Nome do link"><br><br>
    <input id="url" placeholder="URL"><br><br>
    <button onclick="addLink()">Adicionar</button>
</div>

<h3 style="text-align:center;">Links existentes:</h3>
<div id="listaADM" class="grid"></div>

<script>
const BIN_ID = "SEU_BIN_ID_AQUI";
const API_KEY = "SUA_CHAVE_SECRET_AQUI";

let db = [];

async function carregar() {
    const req = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {
        headers: { "X-Master-Key": API_KEY }
    });

    const data = await req.json();
    db = data.record;
    mostrarLinks();
}

function mostrarLinks() {
    const div = document.getElementById("listaADM");
    div.innerHTML = "";

    db.forEach((item, i) => {
        let card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
            <b>${item.nome}</b><br><br>
            <button onclick="remover(${i})">Excluir</button>
        `;
        div.appendChild(card);
    });
}

async function salvar() {
    await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}`, {
        method: "PUT",
        headers: {
            "Content-Type": "application/json",
            "X-Master-Key": API_KEY
        },
        body: JSON.stringify(db)
    });
    carregar();
}

function addLink() {
    let nome = document.getElementById("nome").value;
    let url = document.getElementById("url").value;

    if (!nome || !url) return alert("Preencha tudo!");

    db.push({ nome, url });
    salvar();
}

function remover(i) {
    db.splice(i, 1);
    salvar();
}

carregar();
</script>

</body>
</html>
